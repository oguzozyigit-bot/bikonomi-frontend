<!-- FILE: /pages/diyet.html -->
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Diyet</title>

  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="/css/style.css?v=2" />
  <link rel="stylesheet" href="/css/layout-common.css?v=1" />

  <style>
    :root{
      --frameW: min(480px, calc(100vw - 18px));
      --topH: 65px;
      --footerH: 64px;
      --assistH: 68px;
      --gapH: 6px;
      color-scheme: dark; /* âœ… select dropdown karanlÄ±k */
    }

    /* Footer frame iÃ§inde (chat ile aynÄ±) */
    .footer-container{
      position: fixed !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      width: var(--frameW) !important;
      bottom: 0 !important;
      z-index: 2400 !important;
      background: rgba(0,0,0,.92);
      border-top: 1px solid rgba(255,255,255,.06);
    }

    /* Alt bar (chat ile aynÄ±) */
    .assistant-bar{
      position: fixed !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
      width: var(--frameW) !important;
      bottom: var(--footerH) !important;
      z-index: 2500 !important;
      height: var(--assistH) !important;
      padding: 6px 10px !important;
      pointer-events: none;
    }
    .assistant-bar .assistant-item{ pointer-events:auto; }
    .assistant-item .lbl{
      display:block !important;
      font-size: 8px !important;
      font-weight: 900 !important;
      line-height: 1 !important;
      margin-top: 2px !important;
      opacity: .85;
      white-space: nowrap;
    }

    /* âœ… Orta modÃ¼l alanÄ± (buraya dokunuyoruz) */
    .module-area{
      position:absolute;
      left:0; right:0;
      top: var(--topH);
      bottom: calc(var(--footerH) + var(--assistH) + 10px);
      overflow-y:auto;
      -webkit-overflow-scrolling: touch;
      padding: 16px;
      padding-bottom: 22px;
    }

    /* âœ… sayÄ± input spinner gizle */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button{ -webkit-appearance: none; margin:0; }
    input[type=number]{ -moz-appearance:textfield; }

    /* âœ… modÃ¼l kartlarÄ± */
    .card{
      background: linear-gradient(145deg, rgba(30,30,30,0.9), rgba(10,10,10,0.95));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 22px;
      padding: 18px;
      box-shadow: 0 18px 45px rgba(0,0,0,.55);
      margin-bottom: 14px;
    }

    .setup-head{ display:flex; align-items:center; gap:12px; margin-bottom:10px; }
    .setup-ico{
      width:44px; height:44px; border-radius:16px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(255,179,0,.14);
      border:1px solid rgba(255,179,0,.30);
      font-size:22px;
      flex:0 0 44px;
    }
    .setup-title{ font-weight:1000; color:#fff; font-size:16px; margin:0; }
    .setup-desc{ margin:8px 0 14px; color: rgba(255,255,255,.70); font-size: 13px; line-height: 1.35; }

    .form-row{ display:flex; gap:10px; }
    .form-group{ flex:1; display:flex; flex-direction:column; gap:6px; }

    .form-label{
      font-size: 11px; font-weight: 900;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: .6px;
      margin-left: 4px;
    }

    .diet-input, .diet-select{
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.12);
      color: #fff;
      padding: 12px;
      border-radius: 14px;
      font-size: 14px;
      outline: none;
      width:100%;
    }
    .diet-input:focus, .diet-select:focus{ border-color: rgba(255,179,0,.75); }
    .diet-input:disabled, .diet-select:disabled{ opacity:.6; cursor:not-allowed; }

    /* âœ… option beyaz-beyaz bug fix */
    select, option{ background-color:#101010; color:#fff; }

    .btn-primary{
      width:100%;
      border:none;
      border-radius: 18px;
      padding: 14px 16px;
      font-weight: 1000;
      font-size: 14px;
      cursor:pointer;
      background: var(--gold);
      color:#111;
      box-shadow: 0 12px 26px rgba(255,179,0,.18);
    }
    .btn-yes{
      width:100%;
      border:none;
      border-radius: 999px;
      padding: 12px 16px;
      font-weight: 1000;
      font-size: 14px;
      cursor:pointer;
      background: var(--pistachio);
      color:#111;
      box-shadow: 0 0 18px rgba(190,242,100,.28);
      margin-top: 10px;
    }

    /* BMI */
    .bmi-hero{ display:flex; justify-content:space-between; align-items:center; gap:16px; }
    .bmi-left h2{
      margin:0 0 6px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: .7px;
      color: rgba(255,255,255,.55);
      font-weight: 1000;
    }
    .bmi-big{ font-size: 38px; font-weight: 1000; color:#fff; line-height:1; }
    .bmi-status{
      display:inline-block;
      margin-top:8px;
      padding: 6px 10px;
      border-radius: 10px;
      font-size: 11px;
      font-weight: 1000;
      letter-spacing: .7px;
      text-transform: uppercase;
    }
    .bmi-status.ok{ background: rgba(190,242,100,.14); color: var(--pistachio); }
    .bmi-status.warn{ background: rgba(255,179,0,.14); color: var(--gold); }
    .bmi-status.bad{ background: rgba(255,82,82,.14); color: var(--red); }

    .bmi-gauge{ width:70px; height:70px; }
    .bg-circle{ fill:none; stroke:#333; stroke-width:6; }
    .val-circle{
      fill:none; stroke: var(--gold);
      stroke-width:6; stroke-linecap:round;
      stroke-dasharray:175; stroke-dashoffset:175;
      transition: 1s ease;
    }

    .bmi-talk{
      margin-top: 12px;
      color: rgba(255,255,255,.88);
      font-size: 13px;
      line-height: 1.45;
      font-weight: 700;
    }
    .bmi-talk b{ color:#fff; }

    .meal-list{ display:flex; flex-direction:column; gap:12px; margin-top:12px; }
    .meal-card{
      background: rgba(25,25,25,.55);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 18px;
      padding: 14px;
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .meal-icon{
      width:44px; height:44px;
      border-radius: 14px;
      display:flex; align-items:center; justify-content:center;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.06);
      font-size: 20px;
      flex-shrink:0;
    }
    .meal-name{
      font-size:12px; font-weight: 1000;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: .6px;
      margin-bottom: 4px;
    }
    .meal-desc{
      font-size:13px;
      color: rgba(255,255,255,.92);
      line-height: 1.35;
      font-weight: 700;
    }
    .meal-meta{
      margin-top: 6px;
      font-size: 11px;
      color: rgba(255,255,255,.55);
      font-weight: 900;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .meal-meta span{ display:inline-flex; gap:6px; align-items:center; }
    .meal-meta .cal::before{ content:"ğŸ”¥"; font-size: 10px; }
    .meal-meta .time::before{ content:"ğŸ•’"; font-size: 10px; }

    .dob-row{ display:flex; gap:10px; }

    /* kÃ¼Ã§Ã¼k bildirim */
    .diet-notif{
      position: fixed;
      top: 80px; left: 50%;
      transform: translateX(-50%);
      background: rgba(190,242,100,0.95);
      color:#111;
      padding: 10px 18px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 1000;
      box-shadow: 0 10px 30px rgba(0,0,0,.55);
      z-index: 9001;
      display:none;
      animation: slideDown .45s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    @keyframes slideDown { from{ top:-50px; opacity:0 } to{ top:80px; opacity:1 } }
  </style>
</head>

<body>
<div class="mobile-frame" id="mobileFrame">

  <!-- ÃœST BAR (aynÄ± kalÄ±yor) -->
  <div class="topbar">
    <div class="left-controls">
      <button class="hamb-btn" id="hambBtn">â˜°</button>
    </div>

    <div class="brand-wrapper" id="brandWrapper" style="cursor:pointer" onclick="location.href='/pages/chat.html'">
      <div class="logo-area">
        <svg class="seesaw-svg" viewBox="0 0 40 20">
          <g class="seesaw-bar" id="seesawBar">
            <line x1="0" y1="8" x2="40" y2="8" stroke="#ccc" stroke-width="2" stroke-linecap="round" />
            <circle cx="3" cy="5" r="3" fill="#bef264" />
            <circle cx="37" cy="5" r="3" fill="#ffb300" id="orangeBall" />
          </g>
          <polygon points="17,14 23,14 20,8" fill="none" stroke="#666" stroke-width="1.5" />
        </svg>
        <div class="brand-name">Caynana AI</div>
      </div>
      <div class="slogan">Yapay ZekÃ¢nÄ±n Geleneksel AklÄ±</div>
    </div>

    <div class="right-controls">
      <div class="notif-row">
        <div class="notif-topline">
          <button class="icon-btn-top" id="notifBtn" aria-label="Bildirimler">
            <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
            <div class="badge" id="notifBadge"></div>
          </button>
          <div id="planChip" class="plan-chip">FREE</div>
        </div>

        <div class="yp-chip">
          <div class="yp-label">SAMÄ°MÄ°YET</div>
          <div class="yp-meter"><div class="yp-fill" id="ypFill"></div></div>
          <div class="yp-num" id="ypNum">10/100</div>
        </div>
      </div>
    </div>
  </div>

  <!-- HAMBURGER MENÃœ (aynÄ± kalÄ±yor) -->
  <div class="menu-overlay" id="menuOverlay">
    <div class="menu-sidebar">
      <button class="new-chat-btn" id="newChatBtn"><span>+</span> YENÄ° SOHBET BAÅLAT</button>

      <div class="profile-shortcut-wrap" id="profileShortcutMount">
        <div class="profile-shortcut-btn" id="profileShortcutBtn">
          <div class="profile-shortcut-ico" id="profileShortcutIco">ğŸ‘¤</div>
          <div class="profile-shortcut-text">
            <div class="profile-shortcut-title">Profil DÃ¼zenle</div>
            <div class="profile-shortcut-sub" id="profileShortcutName">â€”</div>
          </div>
        </div>
      </div>

      <div class="section-title" id="historyTitle">GEÃ‡MÄ°Å SOHBETLER</div>
      <div class="history-list" id="historyList"></div>

      <div class="menu-block asistan"><div class="block-head">Asistan AI</div><div class="menu-grid" id="menuAsistan"></div></div>
      <div class="menu-block astro"><div class="block-head">Astro AI</div><div class="menu-grid" id="menuAstro"></div></div>
      <div class="menu-block kurumsal"><div class="block-head">Kurumsal</div><div class="menu-grid" id="menuKurumsal"></div></div>

      <div class="menu-footer-actions">
        <a class="action-link" id="logoutBtn">ğŸ›¡ï¸ GÃ¼venli Ã‡Ä±kÄ±ÅŸ</a>
        <a class="action-link delete-acc" id="deleteAccountBtn">ğŸ—‘ï¸ HesabÄ±mÄ± Sil</a>
        <div class="footer-copy">@CaynanaAI By Ozyigit's 2026</div>
      </div>
    </div>
  </div>

  <!-- âœ… ORTA MODÃœL ALANI (sadece burasÄ±) -->
  <div class="module-area">

    <div id="profileSetup" class="card" style="display:none;">
      <div class="setup-head">
        <div class="setup-ico">ğŸ“</div>
        <div>
          <div class="setup-title">Diyet iÃ§in birkaÃ§ bilgi</div>
          <div style="font-size:12px; color: rgba(255,255,255,.55); font-weight:900; margin-top:2px;">
            DoÄŸum tarihi & cinsiyet bir kere alÄ±nÄ±r, sonra deÄŸiÅŸmez.
          </div>
        </div>
      </div>

      <div class="setup-desc">
        Boy ve kiloyu gÃ¼ncel tut evladÄ±m. Profilinde doÄŸum tarihi ve cinsiyet varsa burada dokunamayÄ±z.
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Boy (cm)</label>
          <input type="number" id="inpHeight" class="diet-input" placeholder="170" inputmode="numeric" />
        </div>
        <div class="form-group">
          <label class="form-label">Kilo (kg)</label>
          <input type="number" id="inpWeight" class="diet-input" placeholder="70" inputmode="numeric" />
        </div>
      </div>

      <div class="dob-row" style="margin-top:10px;">
        <div class="form-group">
          <label class="form-label">YÄ±l</label>
          <select id="dobYear" class="diet-select"></select>
        </div>
        <div class="form-group">
          <label class="form-label">Ay</label>
          <select id="dobMonth" class="diet-select"></select>
        </div>
        <div class="form-group">
          <label class="form-label">GÃ¼n</label>
          <select id="dobDay" class="diet-select"></select>
        </div>
      </div>

      <div class="form-row" style="margin-top:10px;">
        <div class="form-group" style="flex:1;">
          <label class="form-label">Cinsiyet</label>
          <select id="inpGender" class="diet-select">
            <option value="">SeÃ§</option>
            <option value="Kadin">KadÄ±n</option>
            <option value="Erkek">Erkek</option>
          </select>
        </div>
      </div>

      <button class="btn-primary" id="btnCalc">VÃœCUT ENDEKSÄ°MÄ° HESAPLA</button>
    </div>

    <div id="dietDashboard" class="card" style="display:none;">
      <div class="bmi-hero">
        <div class="bmi-left">
          <h2>VÃ¼cut Kitle Ä°ndeksi</h2>
          <div class="bmi-big" id="bmiVal">--</div>
          <div class="bmi-status" id="bmiStatus">â€”</div>
        </div>
        <div class="bmi-gauge">
          <svg width="70" height="70" style="transform:rotate(-90deg)">
            <circle class="bg-circle" cx="35" cy="35" r="30"></circle>
            <circle class="val-circle" cx="35" cy="35" r="30" id="bmiCircle"></circle>
          </svg>
        </div>
      </div>

      <div class="bmi-talk" id="bmiTalk">â€”</div>
      <button class="btn-yes" id="btnGenerate">GÃœNLÃœK DÄ°YET MENÃœMÃœ VER</button>

      <div class="meal-list" id="mealList"></div>
    </div>

  </div>

  <div class="diet-notif" id="dietNotif">ğŸ”” BugÃ¼n diyet menÃ¼n geldi, incele evladÄ±m!</div>

  <!-- ALT BAR (aynÄ±) -->
  <div class="assistant-bar" id="assistantBar"></div>

  <!-- FOOTER (aynÄ±) -->
  <div class="footer-container">
    <div class="footer-links">
      <a href="/pages/hakkimizda.html">HakkÄ±mÄ±zda</a>
      <a href="/pages/sss.html">SSS</a>
      <a href="/pages/gizlilik.html">Gizlilik</a>
      <a href="/pages/iletisim.html">Ä°letiÅŸim</a>
    </div>
    <div class="footer-brand">@CaynanaAI By Ozyigit's 2026</div>
  </div>

</div>

<script type="module" src="/js/layout-common.js?v=1"></script>
<script type="module" src="/js/menu_history_ui.js?v=1"></script>
<script type="module" src="/js/diyet_page.js?v=1"></script>
</body>
</html>

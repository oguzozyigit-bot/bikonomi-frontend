<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Caynana AI</title>

<link rel="icon" href="data:,">
<link rel="stylesheet" href="/css/style.css?v=1">
<link rel="stylesheet" href="/css/layout-common.css?v=1">

<!-- GOOGLE GSI -->
<script src="https://accounts.google.com/gsi/client" async defer></script>

<!-- CONFIG → GLOBAL -->
<script type="module">
  import { GOOGLE_CLIENT_ID } from "/js/config.js";
  window.GOOGLE_CLIENT_ID = GOOGLE_CLIENT_ID;
</script>

<style>
:root{
  --gold:#ffb300;
  --pistachio:#bef264;
}

*{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; outline:none; }

.full-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.92);
  z-index:9900;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .25s ease;
}
.full-overlay.active{ opacity:1; pointer-events:auto; }

.login-card{
  width:min(420px,92vw);
  padding:28px 26px 22px;
  border-radius:26px;
  background:
    radial-gradient(1200px 400px at 0% 0%, rgba(255,179,0,.10), transparent 60%),
    radial-gradient(1200px 400px at 100% 0%, rgba(190,242,100,.08), transparent 60%),
    #0e0e0e;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 40px 120px rgba(0,0,0,.75);
  text-align:center;
}

/* GOOGLE FIX */
.google-area{
  position:relative;
  width:100%;
  margin-top:18px;
}
#googleLoginBtn{
  width:100%;
  height:52px;
  border-radius:16px;
  border:none;
  font-weight:900;
  font-size:15px;
  background:linear-gradient(180deg,#ffffff,#f1f1f1);
  color:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  box-shadow:0 12px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.8);
  position:relative;
  z-index:1;
}
#googleLoginBtn::before{
  content:"";
  width:20px; height:20px;
  background:url("https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg") no-repeat center/contain;
}
#googleBtnWrap{
  position:absolute;
  inset:0;
  width:100%;
  height:52px;
  z-index:9999;
  opacity:0.01;
  cursor:pointer;
}
#googleBtnWrap iframe{
  width:100%!important;
  height:100%!important;
  cursor:pointer!important;
}

#appleLoginBtn{
  width:100%;
  height:50px;
  margin-top:10px;
  border-radius:16px;
  background:rgba(255,255,255,.06);
  color:rgba(255,255,255,.55);
  border:1px solid rgba(255,255,255,.12);
  font-weight:800;
}
#appleLoginBtn::before{ content:" "; }

.login-footer-links{
  margin-top:16px;
  display:flex;
  justify-content:center;
  gap:16px;
  font-size:12px;
  opacity:.65;
}
.login-footer-links a{ color:rgba(255,255,255,.65); text-decoration:none; }

.login-footer{
  margin-top:12px;
  font-size:11px;
  font-weight:900;
  opacity:.55;
}
</style>
</head>

<body>

<div class="mobile-frame"><!-- APP BODY layout-common.js doldurur --></div>

<!-- LOGIN -->
<div class="full-overlay active" id="loginOverlay">
  <div class="login-card">

    <svg viewBox="0 0 220 70" style="width:70px;height:34px;">
      <line x1="20" y1="30" x2="200" y2="30" stroke="#ccc" stroke-width="6"/>
      <circle cx="30" cy="20" r="10" fill="#bef264"/>
      <circle cx="190" cy="20" r="10" fill="#ffb300"/>
    </svg>

    <div style="font-size:24px;font-weight:1000;">Caynana.AI</div>
    <div style="opacity:.75;font-weight:800;font-size:12px;">Yapay Zekânın Geleneksel Aklı</div>
    <div style="margin-top:6px;font-weight:900;">Ücretsiz üyelik için giriş yap</div>

    <div class="google-area">
      <button id="googleLoginBtn" type="button">Google ile Devam Et</button>
      <div id="googleBtnWrap"></div>
    </div>

    <button id="appleLoginBtn" type="button">Apple ile Devam Et</button>

    <div class="login-footer-links">
      <a href="/pages/hakkimizda.html">Hakkımızda</a>
      <a href="/pages/sss.html">SSS</a>
      <a href="/pages/gizlilik.html">Gizlilik</a>
      <a href="/pages/iletisim.html">İletişim</a>
    </div>

    <div class="login-footer">@CaynanaAI By Ozyigit's 2026</div>
  </div>
</div>

<script type="module" src="/js/main.js"></script>
<script src="/js/layout-common.js?v=1"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const GOOGLE_CLIENT_ID = window.GOOGLE_CLIENT_ID;
  if(!GOOGLE_CLIENT_ID){
    console.error("GOOGLE_CLIENT_ID YOK!");
    return;
  }

  function parseJwt(token){
    try{
      const base64Url = token.split(".")[1];
      const base64 = base64Url.replace(/-/g,"+").replace(/_/g,"/");
      return JSON.parse(atob(base64));
    }catch{ return {}; }
  }

  function onGoogle(response){
    if(!response.credential) return;
    const p = parseJwt(response.credential);
    localStorage.setItem("caynana_user_v1", JSON.stringify({
      fullname:p.name||"",
      email:p.email||"",
      picture:p.picture||""
    }));
    document.getElementById("loginOverlay").classList.remove("active");
    document.body.classList.add("is-logged");
  }

  const wait = setInterval(()=>{
    if(window.google && google.accounts && google.accounts.id){
      clearInterval(wait);
      google.accounts.id.initialize({
        client_id: GOOGLE_CLIENT_ID,
        callback: onGoogle,
        auto_select:false,
        cancel_on_tap_outside:false
      });
      google.accounts.id.renderButton(
        document.getElementById("googleBtnWrap"),
        { theme:"outline", size:"large", width:420 }
      );
    }
  },100);

  document.getElementById("appleLoginBtn").onclick = ()=>{
    alert("Apple girişi yakında.");
  };
});
</script>

</body>
</html>
